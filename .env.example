# =============================================================================
# EMPERIONE DISCORD COMMUNITY MANAGEMENT SUITE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# DISCORD BOT CONFIGURATION
# -----------------------------------------------------------------------------
# Your Discord bot token from https://discord.com/developers/applications
DISCORD_BOT_TOKEN=your_bot_token_here

# Your Discord application client ID
DISCORD_CLIENT_ID=your_client_id_here

# Your Discord application client secret (for OAuth)
DISCORD_CLIENT_SECRET=your_client_secret_here

# Discord OAuth redirect URI (e.g., http://localhost:3000/auth/callback)
DISCORD_REDIRECT_URI=http://localhost:3000/auth/callback

# Bot command prefix (optional, for text commands)
DISCORD_BOT_PREFIX=!

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/emperione_db

# Database connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
# Redis connection URL for caching and session storage
REDIS_URL=redis://localhost:6379

# Redis password (if applicable)
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0

# -----------------------------------------------------------------------------
# API SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# API server port
API_PORT=8000

# API server host
API_HOST=0.0.0.0

# Node environment (development, production, test)
NODE_ENV=development

# API base URL (used by frontend and bot)
API_BASE_URL=http://localhost:8000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# FRONTEND DASHBOARD CONFIGURATION
# -----------------------------------------------------------------------------
# Next.js dashboard port
DASHBOARD_PORT=3000

# Next.js public URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Next.js API URL (for client-side requests)
NEXT_PUBLIC_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT secret for signing tokens (generate a strong random string)
JWT_SECRET=your_jwt_secret_here_min_32_chars

# JWT expiration time (e.g., 7d, 24h, 60m)
JWT_EXPIRES_IN=7d

# Session secret for Express sessions
SESSION_SECRET=your_session_secret_here_min_32_chars

# NextAuth secret (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your_nextauth_secret_here

# NextAuth URL
NEXTAUTH_URL=http://localhost:3000

# Encryption key for sensitive data (32 bytes hex)
ENCRYPTION_KEY=your_encryption_key_here_64_chars_hex

# -----------------------------------------------------------------------------
# AI/ML SERVICES
# -----------------------------------------------------------------------------
# OpenAI API key for sentiment analysis and insights
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI model to use (e.g., gpt-4, gpt-3.5-turbo)
OPENAI_MODEL=gpt-3.5-turbo

# Alternative: Hugging Face API token (if not using OpenAI)
HUGGINGFACE_API_TOKEN=your_huggingface_token_here

# AI features toggle (true/false)
AI_FEATURES_ENABLED=true

# Sentiment analysis batch size
AI_SENTIMENT_BATCH_SIZE=100

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Rate limit: requests per window
RATE_LIMIT_MAX=100

# Rate limit: time window in minutes
RATE_LIMIT_WINDOW_MS=15

# Rate limit: enabled/disabled
RATE_LIMIT_ENABLED=true

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Log level (error, warn, info, debug, trace)
LOG_LEVEL=info

# Log format (json, pretty)
LOG_FORMAT=pretty

# Log file path (leave empty to disable file logging)
LOG_FILE_PATH=

# -----------------------------------------------------------------------------
# BACKGROUND JOBS & QUEUES
# -----------------------------------------------------------------------------
# Bull queue Redis connection (uses REDIS_URL if not specified)
QUEUE_REDIS_URL=redis://localhost:6379

# Analytics aggregation job interval (cron format or milliseconds)
ANALYTICS_JOB_INTERVAL=*/5 * * * *

# Alerts processing job interval
ALERTS_JOB_INTERVAL=*/2 * * * *

# Job concurrency settings
JOB_CONCURRENCY=5

# -----------------------------------------------------------------------------
# DATA RETENTION & EXPORT
# -----------------------------------------------------------------------------
# How long to keep raw message data (days, 0 = forever)
MESSAGE_RETENTION_DAYS=90

# How long to keep analytics snapshots (days, 0 = forever)
ANALYTICS_RETENTION_DAYS=365

# How long to keep audit logs (days, 0 = forever)
AUDIT_LOG_RETENTION_DAYS=180

# Export file storage path
EXPORT_STORAGE_PATH=./exports

# Maximum export file size in MB
MAX_EXPORT_SIZE_MB=100

# -----------------------------------------------------------------------------
# MODERATION DEFAULTS
# -----------------------------------------------------------------------------
# Default spam detection sensitivity (low, medium, high)
DEFAULT_SPAM_SENSITIVITY=medium

# Default rate limit for messages (messages per minute)
DEFAULT_MESSAGE_RATE_LIMIT=10

# Auto-ban threshold (number of violations before auto-ban, 0 = disabled)
AUTO_BAN_THRESHOLD=5

# -----------------------------------------------------------------------------
# ANALYTICS DEFAULTS
# -----------------------------------------------------------------------------
# Default analytics snapshot interval (minutes)
ANALYTICS_SNAPSHOT_INTERVAL=15

# Community health score calculation weights (must sum to 1.0)
HEALTH_SCORE_ENGAGEMENT_WEIGHT=0.4
HEALTH_SCORE_RETENTION_WEIGHT=0.3
HEALTH_SCORE_SENTIMENT_WEIGHT=0.3

# Minimum sample size for statistical calculations
MIN_SAMPLE_SIZE=30

# -----------------------------------------------------------------------------
# WEBHOOKS & NOTIFICATIONS
# -----------------------------------------------------------------------------
# Webhook URL for system alerts (optional)
SYSTEM_ALERT_WEBHOOK_URL=

# Webhook URL for error notifications (optional)
ERROR_NOTIFICATION_WEBHOOK_URL=

# Email service for notifications (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@emperione.dev

# -----------------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING
# -----------------------------------------------------------------------------
# Enable debug mode
DEBUG=false

# Enable SQL query logging
DEBUG_SQL=false

# Enable API request logging
DEBUG_API=false

# Enable bot event logging
DEBUG_BOT=false

# Disable SSL verification (development only, never use in production)
NODE_TLS_REJECT_UNAUTHORIZED=1

# -----------------------------------------------------------------------------
# OPTIONAL: EXTERNAL SERVICES
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# Google Analytics tracking ID (optional)
GOOGLE_ANALYTICS_ID=

# CDN URL for static assets (optional)
CDN_URL=

# S3-compatible storage for file uploads (optional)
S3_ENDPOINT=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET_NAME=
S3_REGION=us-east-1

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
